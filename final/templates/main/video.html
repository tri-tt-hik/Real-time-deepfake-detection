{% extends "main/base.html" %}
{% block title %}
    Analyzing Video
{% endblock %}
{% block content %}
    <div class="video-content">
        <h2>Deepfake Video Detection</h2>
        <p>
            Welcome to the video analysis section of the Deepfake Detection Portal. Here, you can upload videos for analysis to determine whether they contain deepfake manipulations. Our advanced algorithms are designed to detect even subtle artifacts introduced during deepfake creation.
        </p>

        <h3>How to Use This Tool</h3>
        <ol>
            <li><strong>Select a Video:</strong> Click the "Choose File" button and select the video file you wish to analyze.</li>
            <li><strong>Start Analysis:</strong> Once the video is uploaded, click the "Analyze" button to begin detection.</li>
            <li><strong>View Results:</strong> After processing, the portal will provide a detailed report indicating the likelihood of deepfake manipulation and visual markers, if applicable.</li>
        </ol>

    </div>

        <form action="" method="post" enctype="multipart/form-data" class="styled-form">
            {% csrf_token %}
            {{form.as_p}}
            <button type="submit">Check</button>
        </form>
        
        <form action="" method="post" class="clear-form">
            {% csrf_token %}
            <button type="submit" name="clear">Clear</button>
        </form>

        

        {% if result %}
            
            <div class="result-{% if result.label == 'REAL' %}real{% else %}false{% endif %}">
                <h2>Result</h2>
                <p>Prediction: {{ result.label }}</p>
                <p>Confidence: {{ result.confidence|floatformat:2 }}%</p>
            </div>
        {% endif %}

    
    <style>
        .result-real{
            width: 600px;
            height: 80px;
            margin-top: 20px;
            margin-left: 150px;
            margin-bottom: 20px;
            background-color: rgba(10,230,1,0.1);
            color:green;
            border: 1px solid green;
            padding: 10px;
            box-shadow: 4px 4px 4px green;
            border-radius: 5px;
            justify-items: center;
        }
        .result-false{
            width: 600px;
            height: 80px;
            margin-top: 20px;
            margin-left: 150px;
            margin-bottom: 20px;
            background-color: rgba(240,1,1,0.1);
            color:red;
            border: 1px solid red;
            padding: 10px;
            box-shadow: 4px 4px 4px red;
            border-radius: 5px;
            justify-items: center;
        }
        
        
        .clear-form button{
            width: 75px;
            margin-top: 10px;
            margin-left: 20px;
            padding: 5px;
            background-color:#f0f8ff;
            color: #007BFF;
            border-color: #007BFF;
            border-width: 1px;
            border-radius: 7px;
            cursor: pointer;
        }
        .clear-form button:hover{
            background-color: #007BFF;
            color:#f0f8ff;
        }
        .styled-form{
            width: 400px;
            margin-left: 0px;
            margin-top: 20px;
            background-color:aliceblue;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .styled-form label{
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        .styled-form input[type="text"],
        .styled-form input[type="file"]{
            width: 100%;
            height: 40px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;

        }
        .styled-form button{
            width: 75px;
            padding: 5px;
            background-color:#f0f8ff;
            color: #007BFF;
            border-color: #007BFF;
            border-width: 1px;
            border-radius: 7px;
            cursor: pointer;
        }
        .styled-form button:hover{
            background-color: #007BFF;
            color: #f0f8ff;
            transition: all;
        }
        .styled-form input:focus {
            border-color: #007BFF;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }
        .video-content {
            width: 100%;
            padding: 10px;
            background-color: #f0f8ff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            
            margin: auto;
            line-height: 1.6;
        }
        .video-content h2 {
            color: #007BFF;
            margin-bottom: 15px;
            font-family: 'Arial', sans-serif;
        }
        .video-content h3 {
            margin-top: 20px;
            color: #333;
        }
        .video-content p {
            margin: 10px 0;
        }
        .video-content ol {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        .video-content .action-buttons {
            margin-top: 20px;
            display: flex;
            gap: 20px;
        }
        .video-content .upload-button,
        .video-content .analyze-button {
            padding: 10px 20px;
            text-decoration: none;
            color: white;
            background-color: #007BFF;
            border-radius: 5px;
            text-align: center;
        }
        .video-content .upload-button:hover,
        .video-content .analyze-button:hover {
            background-color: #0056b3;
        }
        .side-bar .video-link{
            background-color: #007BFF;
            color:#f0f8ff;
        }
        .side-bar .home-link{
            background-color:#f0f8ff;
            color: #007BFF;
        }
        .side-bar .stream-link{
            background-color:#f0f8ff;
            color: #007BFF;
        }
        
    </style>
{% endblock %}
